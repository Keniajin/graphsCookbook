\documentclass[10pt]{article}
\usepackage{hyperref}
\usepackage{booktabs}
\usepackage{xfrac}
\usepackage{listings}
\usepackage[usenames,dvipsnames]{color}
\usepackage[landscape]{geometry}
\usepackage{enumerate}
\usepackage{array}
\usepackage{tikz}
\usepackage{ragged2e}
\usepackage{afterpage}
\usepackage[small,compact]{titlesec}
%\usepackage[pdftex]{graphicx}
%\DeclareGraphicsExtensions{.png,.pdf}

% attempt to use fontspec to select fonts 
\usepackage{fontspec,xltxtra,xunicode}
\defaultfontfeatures{Mapping=tex-text}
\setsansfont[Scale=MatchLowercase,Mapping=tex-text]{Gill Sans}

%%\newcommand{\placeRecipe}[1]{\noindent \begin{quote}\input{#1}\end{quote}}
%%\newcommand{\placeRecipe}[1]{\begin{minipage}[h]{\textwidth}\vspace{-144pt}\input{#1}\end{minipage}}
\newcommand{\placeRecipe}[1]{\bigskip \noindent \input{#1} \bigskip}
\newcommand{\testRecipe}[1]{\begin{figure}[!htb] \centering \input{#1} \end{figure}}
\title{Chapter 1 from R Graphics Cookbook }
\author{Alan Beale}
\date{Spetember 24, 2011}

%% http://www.eng.cam.ac.uk/help/tpl/textprocessing/squeeze.html
%%\renewcommand\floatpagefraction{.9}
%%\renewcommand\topfraction{.9}
%%\renewcommand\bottomfraction{.9}
%%\renewcommand\textfraction{.1}   
\setcounter{totalnumber}{50}
\setcounter{topnumber}{50}
\setcounter{bottomnumber}{50}

 \addtolength{\textfloatsep}{-.5\textfloatsep}
 \addtolength{\dbltextfloatsep}{-.5\dbltextfloatsep}

\begin{document}

\sffamily 
\maketitle

\section{Why}

\section{Scatter plot}
\Large{Recipe 1a}
\placeRecipe{recipe1a}

\Large{Recipe 1b}
\testRecipe{recipe1b}
\\Simple scatter graph 
\clearpage
\section{Line graph}
\Large{Recipe 2a}
\testRecipe{recipe2a} 
%% line graph\\
\clearpage
\section{ Bar charts}
\Large{Recipe 3a}
\testRecipe{recipe3a}
bar chart\\
\Large{Recipe 3b}
\testRecipe{recipe3b}
horizontal bar chart\\
\Large{Recipe 3c}
\testRecipe{recipe3c}
\placeRecipe{recipe3d}

\end{document}
